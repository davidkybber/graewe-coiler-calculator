import{r as P,g as T,a as H}from"./vendor-C8w-UNLI.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const t of l.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function i(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=i(n);fetch(n.href,l)}})();var R={exports:{}},L={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W;function G(){if(W)return L;W=1;var r=P(),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function t(o,c,j){var d,u={},m=null,x=null;j!==void 0&&(m=""+j),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(x=c.ref);for(d in c)a.call(c,d)&&!l.hasOwnProperty(d)&&(u[d]=c[d]);if(o&&o.defaultProps)for(d in c=o.defaultProps,c)u[d]===void 0&&(u[d]=c[d]);return{$$typeof:s,type:o,key:m,ref:x,props:u,_owner:n.current}}return L.Fragment=i,L.jsx=t,L.jsxs=t,L}var S;function V(){return S||(S=1,R.exports=G()),R.exports}var e=V(),v=P();const $=T(v);var _={},I;function U(){if(I)return _;I=1;var r=H();return _.createRoot=r.createRoot,_.hydrateRoot=r.hydrateRoot,_}var Y=U();const J=T(Y);var h=(r=>(r.COIL_LENGTH="coil_length",r.END_POSITION="end_position",r))(h||{}),b=(r=>(r.UNEVEN_LAYERS="uneven_layers",r.EVEN_LAYERS_OFFSET="even_layers_offset",r))(b||{});const A={params:{pipeDiameter:void 0,pipeLength:void 0,innerDiameter:void 0,outerDiameter:void 0,bundleWidth:void 0,bundleHeight:void 0,pipesPerLayer:void 0,numberOfLayers:void 0,pipesLastLayer:void 0,numberOfRotations:void 0,calculationMode:h.COIL_LENGTH,coilMethod:b.UNEVEN_LAYERS},result:null,errors:{},isCalculating:!1},K=(r,s)=>{switch(s.type){case"SET_PARAM":return{...r,params:{...r.params,[s.field]:s.value},errors:{...r.errors,[s.field]:void 0}};case"SET_ERRORS":return{...r,errors:s.errors};case"START_CALCULATION":return{...r,isCalculating:!0,result:null};case"SET_RESULT":return{...r,isCalculating:!1,result:s.result};case"RESET_CALCULATOR":return A;default:return r}},B=v.createContext(null),Z=({children:r})=>{const[s,i]=v.useReducer(K,A);return e.jsx(B.Provider,{value:{state:s,dispatch:i},children:r})},O=()=>{const r=v.useContext(B);if(!r)throw new Error("useCalculator must be used within a CalculatorProvider");return r},Q={pipeDiameter:{required:!0,min:.1,max:500,step:.1,message:"Rohrdurchmesser muss zwischen 0.1 und 500 mm liegen"},pipeLength:{required:!1,min:1,max:1e4,step:1,message:"Länge muss zwischen 1 und 10000 m liegen"},innerDiameter:{required:!0,min:1,max:5e3,step:1,message:"Innendurchmesser muss zwischen 1 und 5000 mm liegen"},outerDiameter:{required:!1,min:1,max:5e3,step:1,message:"Aussendurchmesser muss zwischen 1 und 5000 mm liegen"},bundleWidth:{required:!1,min:1,max:1e4,step:1,message:"Bundbreite muss zwischen 1 und 10000 mm liegen"},calculationMode:{required:!0,message:"Bitte wählen Sie eine Berechnungsart"},coilMethod:{required:!0,message:"Bitte wählen Sie ein Wickelbild"}},X=(r,s=Q)=>{const i={},a=r.calculationMode;return Object.entries(s).forEach(([n,l])=>{const t=r[n];let o=l.required;a===h.COIL_LENGTH?((n==="outerDiameter"||n==="bundleWidth")&&(o=!0),n==="pipeLength"&&(o=!1)):a===h.END_POSITION&&(n==="pipeLength"&&(o=!0),(n==="outerDiameter"||n==="bundleWidth")&&(o=!1));const c=t==null||typeof t=="string"&&t.trim()===""||typeof t=="number"&&isNaN(t);if(o&&c){i[n]=`${E(n)} ist erforderlich`;return}c||(typeof t=="number"&&(l.min!==void 0&&t<l.min&&(i[n]=l.message||`${E(n)} muss mindestens ${l.min} sein`),l.max!==void 0&&t>l.max&&(i[n]=l.message||`${E(n)} darf höchstens ${l.max} sein`),(isNaN(t)||!isFinite(t))&&(i[n]=`${E(n)} muss eine gültige Zahl sein`)),typeof t=="string"&&l.pattern&&(l.pattern.test(t)||(i[n]=l.message||`${E(n)} Format ist ungültig`)))}),r.pipeDiameter&&r.innerDiameter&&r.pipeDiameter>=r.innerDiameter&&(i.pipeDiameter="Rohrdurchmesser muss kleiner als der Innendurchmesser sein"),r.innerDiameter&&r.outerDiameter&&r.innerDiameter>=r.outerDiameter&&(i.outerDiameter="Aussendurchmesser muss größer als der Innendurchmesser sein"),i},E=r=>({pipeDiameter:"Rohrdurchmesser",pipeLength:"Länge",innerDiameter:"Innendurchmesser",outerDiameter:"Aussendurchmesser",bundleWidth:"Bundbreite",bundleHeight:"Bundhöhe",calculationMode:"Berechnungsart",coilMethod:"Wickelbild"})[r]||r,C=r=>Object.values(r).some(s=>s!==void 0&&s!==""),ee=(r,s=2)=>{const i=r.replace(/[^0-9.]/g,""),a=i.split(".");return a.length>2?a[0]+"."+a.slice(1).join(""):a.length===2&&a[1].length>s?a[0]+"."+a[1].substring(0,s):i},re=r=>{if(r===""||r===void 0||r===null)return null;const s=parseFloat(r);return isNaN(s)?null:s},te=()=>{const{state:r,dispatch:s}=O(),{params:i,errors:a}=r,n=(t,o)=>{const c=ee(o),j=re(c);s({type:"SET_PARAM",field:t,value:j})},l=(t,o)=>{s({type:"SET_PARAM",field:t,value:o})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-graewe-gray-50 p-4 md:p-6 rounded-lg",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold text-graewe-dark mb-3",children:"Berechnungsart wählen"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-white transition-colors",children:[e.jsx("input",{type:"radio",name:"calculationMode",value:h.COIL_LENGTH,checked:i.calculationMode===h.COIL_LENGTH,onChange:t=>l("calculationMode",t.target.value),className:"sr-only"}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 mr-3 flex items-center justify-center ${i.calculationMode===h.COIL_LENGTH?"border-graewe-accent bg-graewe-accent":"border-graewe-gray-300"}`,children:i.calculationMode===h.COIL_LENGTH&&e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-graewe-dark",children:"Wickellänge"}),e.jsx("div",{className:"text-sm text-graewe-gray-600",children:"Berechnung der maximalen Rohrlänge"})]})]}),e.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-white transition-colors",children:[e.jsx("input",{type:"radio",name:"calculationMode",value:h.END_POSITION,checked:i.calculationMode===h.END_POSITION,onChange:t=>l("calculationMode",t.target.value),className:"sr-only"}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 mr-3 flex items-center justify-center ${i.calculationMode===h.END_POSITION?"border-graewe-accent bg-graewe-accent":"border-graewe-gray-300"}`,children:i.calculationMode===h.END_POSITION&&e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-graewe-dark",children:"Wickelendposition"}),e.jsx("div",{className:"text-sm text-graewe-gray-600",children:"Berechnung der Endposition"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold text-graewe-dark mb-3",children:"Grundparameter"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pipeDiameter",className:"block text-sm font-medium text-graewe-dark mb-2",children:"Rohrdurchmesser d [mm] *"}),e.jsx("input",{id:"pipeDiameter",type:"number",step:"0.1",min:"0.1",max:"500",value:i.pipeDiameter||"",onChange:t=>n("pipeDiameter",t.target.value),className:`input-field ${a.pipeDiameter?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"z.B. 20.0","data-testid":"pipe-diameter-input"}),a.pipeDiameter&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.pipeDiameter})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"innerDiameter",className:"block text-sm font-medium text-graewe-dark mb-2",children:"Innendurchmesser ID [mm] *"}),e.jsx("input",{id:"innerDiameter",type:"number",step:"1",min:"1",max:"5000",value:i.innerDiameter||"",onChange:t=>n("innerDiameter",t.target.value),className:`input-field ${a.innerDiameter?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"z.B. 500","data-testid":"inner-diameter-input"}),a.innerDiameter&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.innerDiameter})]}),i.calculationMode===h.END_POSITION&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pipeLength",className:"block text-sm font-medium text-graewe-dark mb-2",children:"Länge L [m] *"}),e.jsx("input",{id:"pipeLength",type:"number",step:"1",min:"1",max:"10000",value:i.pipeLength||"",onChange:t=>n("pipeLength",t.target.value),className:`input-field ${a.pipeLength?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"z.B. 100","data-testid":"pipe-length-input"}),a.pipeLength&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.pipeLength})]}),i.calculationMode===h.COIL_LENGTH&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"outerDiameter",className:"block text-sm font-medium text-graewe-dark mb-2",children:"Aussendurchmesser OD [mm] *"}),e.jsx("input",{id:"outerDiameter",type:"number",step:"1",min:"1",max:"5000",value:i.outerDiameter||"",onChange:t=>n("outerDiameter",t.target.value),className:`input-field ${a.outerDiameter?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"z.B. 800","data-testid":"outer-diameter-input"}),a.outerDiameter&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.outerDiameter})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bundleWidth",className:"block text-sm font-medium text-graewe-dark mb-2",children:"Bundbreite W [mm] *"}),e.jsx("input",{id:"bundleWidth",type:"number",step:"1",min:"1",max:"10000",value:i.bundleWidth||"",onChange:t=>n("bundleWidth",t.target.value),className:`input-field ${a.bundleWidth?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"z.B. 2000","data-testid":"bundle-width-input"}),a.bundleWidth&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.bundleWidth})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold text-graewe-dark mb-3",children:"Wickelbild"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-graewe-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"coilMethod",value:b.UNEVEN_LAYERS,checked:i.coilMethod===b.UNEVEN_LAYERS,onChange:t=>l("coilMethod",t.target.value),className:"sr-only"}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 mr-3 flex items-center justify-center ${i.coilMethod===b.UNEVEN_LAYERS?"border-graewe-accent bg-graewe-accent":"border-graewe-gray-300"}`,children:i.coilMethod===b.UNEVEN_LAYERS&&e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-graewe-dark",children:"Ungleiche Lagen"}),e.jsx("div",{className:"text-sm text-graewe-gray-600",children:"Variable Rohranzahl pro Lage"})]})]}),e.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-graewe-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"coilMethod",value:b.EVEN_LAYERS_OFFSET,checked:i.coilMethod===b.EVEN_LAYERS_OFFSET,onChange:t=>l("coilMethod",t.target.value),className:"sr-only"}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 mr-3 flex items-center justify-center ${i.coilMethod===b.EVEN_LAYERS_OFFSET?"border-graewe-accent bg-graewe-accent":"border-graewe-gray-300"}`,children:i.coilMethod===b.EVEN_LAYERS_OFFSET&&e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-graewe-dark",children:"Gleiche Lagen versetzt"}),e.jsx("div",{className:"text-sm text-graewe-gray-600",children:"Konstante Rohranzahl, versetzt"})]})]})]})]})]})},se=({size:r="md",className:s=""})=>{const i={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return e.jsx("div",{className:`${i[r]} ${s}`,children:e.jsx("div",{className:"spinner"})})},ne=async r=>{try{const s=le(r);return s.success?r.calculationMode===h.COIL_LENGTH?ie(r):ae(r):s}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown calculation error"}}},ie=r=>{const{pipeDiameter:s,innerDiameter:i,outerDiameter:a,bundleWidth:n,coilMethod:l}=r;if(!s||!i||!a||!n)return{success:!1,error:"Missing required parameters for coil length calculation"};const t=s,o=i,c=a,j=n;let d=1,u=0,m=o,x=0,p=0;if(l===b.UNEVEN_LAYERS){const w=Math.floor(j/t);do{const f=o+t,D=2*(d-1)*(t*(Math.sqrt(3)/2));m=f+D;const g=2*d*(t*(Math.sqrt(3)/2)),N=f+g,q=d%2===1?w:w-1,F=Math.pow(Math.PI*m,2),z=Math.sqrt(F+Math.pow(t,2))*q;if(u+=z,N+t>c)break;d++}while(!0);x=Math.round(m+t),p=w*t}else{const w=Math.floor(j/t-.5);do{m=o+t+2*(d-1)*(t*(Math.sqrt(3)/2));const f=o+t+2*d*(t*(Math.sqrt(3)/2)),D=Math.sqrt(Math.pow(Math.PI*m,2)+Math.pow(t,2))*w;if(u+=D,f+t>c)break;d++}while(!0);x=Math.round(m+t),p=w*t+t/2}const y=Math.round(u)/1e3;return{success:!0,data:{coilLength:y,coilLengthData:{coilLength:y,outerDiameter:x,bundleWidth:p},calculationMethod:l,warning:void 0}}},ae=r=>{const{pipeDiameter:s,pipeLength:i,innerDiameter:a,bundleWidth:n,coilMethod:l}=r;if(!s||!i||!a||!n)return{success:!1,error:"Missing required parameters for end position calculation"};const t=s,o=i*1e3,c=a,d=Math.floor(n/t);let u=1,m=0,x=0,p=0,y=0,k=0,w=0;const f=1;if(l===b.UNEVEN_LAYERS){y=t*d;do{p=c+t+2*(u-1)*(t*(Math.sqrt(3)/2));let g=0,N=0;if(u%2!==0){do g=g+.25,N=g*Math.sqrt(Math.pow(3.1415*p,2)+Math.pow(t,2)),m=x+N;while(!(g>=d||m>=o*f));x=x+d*Math.sqrt(Math.pow(3.1415*p,2)+Math.pow(t,2))}else{do g=g+.25,N=g*Math.sqrt(Math.pow(3.1415*p,2)+Math.pow(t,2)),m=x+N;while(!(g>=d-1||m>=o*f));x=x+(d-1)*Math.sqrt(Math.pow(3.1415*p,2)+Math.pow(t,2))}m>=o*f||u++}while(!(m>=o*f));k=Math.round(t+(u-1)*(t*(Math.sqrt(3)/2))),w=Math.round(c+2*(t+(u-1)*(t*(Math.sqrt(3)/2))))}else{y=t*(d+.5);do{p=c+t+2*(u-1)*(t*(Math.sqrt(3)/2));let g=0,N=0;do g=g+.25,N=g*Math.sqrt(Math.pow(3.1415*p,2)+Math.pow(t,2)),m=x+N;while(!(g>=d||m>=o*f));x=x+d*Math.sqrt(Math.pow(3.1415*p,2)+Math.pow(t,2)),m>=o*f||u++}while(!(m>=o*f));k=Math.round(t+(u-1)*(t*(Math.sqrt(3)/2))),w=Math.round(c+2*(t+(u-1)*(t*(Math.sqrt(3)/2))))}return{success:!0,data:{endPosition:{outerDiameter:w,bundleWidth:y,bundleHeight:k},calculationMethod:l,warning:void 0}}},le=r=>{const{pipeDiameter:s,innerDiameter:i,calculationMode:a}=r;if(!s||s<=0)return{success:!1,error:"Pipe diameter must be greater than 0"};if(!i||i<=0)return{success:!1,error:"Inner diameter must be greater than 0"};if(s>=i)return{success:!1,error:"Pipe diameter must be smaller than inner diameter"};if(a===h.COIL_LENGTH){if(!r.outerDiameter||r.outerDiameter<=i)return{success:!1,error:"Outer diameter must be greater than inner diameter for coil length calculation"};if(!r.bundleWidth||r.bundleWidth<=0)return{success:!1,error:"Bundle width must be specified for coil length calculation"}}if(a===h.END_POSITION){if(!r.pipeLength||r.pipeLength<=0)return{success:!1,error:"Pipe length must be specified for end position calculation"};if(!r.bundleWidth||r.bundleWidth<=0)return{success:!1,error:"Bundle width must be specified for end position calculation"}}return{success:!0,data:!0}},M=(r,s,i)=>{if(isNaN(r)||!isFinite(r))return"Invalid";const a={minimumFractionDigits:0,maximumFractionDigits:2};return r<.01?a.maximumFractionDigits=4:(r<10||r<100,a.maximumFractionDigits=3),`${r.toLocaleString("de-DE",a)} ${s}`},oe=()=>{const{state:r}=O(),{result:s,isCalculating:i,params:a}=r;if(i)return e.jsx("div",{className:"bg-graewe-gray-50 rounded-lg p-8 border border-graewe-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(se,{size:"lg",className:"mr-3"}),e.jsx("span",{className:"text-graewe-gray-600 text-lg",children:"Berechnung wird durchgeführt..."})]})});if(!s)return e.jsx("div",{className:"bg-graewe-gray-50 rounded-lg p-8 border border-graewe-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 mx-auto bg-graewe-gray-200 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-4 h-4 text-graewe-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-lg font-medium text-graewe-gray-900 mb-2",children:"Bereit für die Berechnung"}),e.jsx("p",{className:"text-graewe-gray-500",children:"Geben Sie die erforderlichen Parameter ein, um die Berechnung zu starten"})]})});if(!s.success)return e.jsx("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-4 h-4 bg-red-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0 mt-1",children:e.jsx("svg",{className:"w-3 h-3 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-red-800 mb-2",children:"Berechnungsfehler"}),e.jsx("p",{className:"text-red-700",children:s.error})]})]})});const n=s.data;return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Berechnung erfolgreich"})]}),a.calculationMode===h.COIL_LENGTH&&n.coilLengthData&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-green-200 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-graewe-dark mb-2",children:"Wickellänge"}),e.jsx("div",{className:"text-2xl font-bold text-graewe-primary","data-testid":"coil-length-result",children:M(n.coilLengthData.coilLength,"m")})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-green-200 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-graewe-dark mb-2",children:"Außendurchmesser OD"}),e.jsx("div",{className:"text-2xl font-bold text-graewe-primary","data-testid":"coil-length-od-result",children:M(n.coilLengthData.outerDiameter,"mm")})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-green-200 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-graewe-dark mb-2",children:"Bundbreite W"}),e.jsx("div",{className:"text-2xl font-bold text-graewe-primary","data-testid":"coil-length-width-result",children:M(n.coilLengthData.bundleWidth,"mm")})]})]}),a.calculationMode===h.END_POSITION&&n.endPosition&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-green-200 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-graewe-dark mb-2",children:"Aussendurchmesser"}),e.jsx("div",{className:"text-2xl font-bold text-graewe-primary","data-testid":"outer-diameter-result",children:M(n.endPosition.outerDiameter,"mm")})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-green-200 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-graewe-dark mb-2",children:"Bundbreite"}),e.jsx("div",{className:"text-2xl font-bold text-graewe-primary","data-testid":"bundle-width-result",children:M(n.endPosition.bundleWidth,"mm")})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-green-200 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-graewe-dark mb-2",children:"Bundhöhe"}),e.jsx("div",{className:"text-2xl font-bold text-graewe-primary","data-testid":"bundle-height-result",children:M(n.endPosition.bundleHeight,"mm")})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-graewe-yellow/10 rounded-lg border border-graewe-yellow/30",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-graewe-accent mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-graewe-dark",children:"Wickelbild: "}),e.jsx("span",{className:"text-graewe-primary",children:n.calculationMethod==="uneven_layers"?"Ungleiche Lagen":"Gleiche Lagen versetzt"})]})]})}),n.warning&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 text-yellow-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-yellow-800",children:"Hinweis: "}),e.jsx("span",{className:"text-yellow-700",children:n.warning})]})]})})]})})},de=()=>{const{state:r,dispatch:s}=O();v.useEffect(()=>{const{params:l}=r,t=X(l);s({type:"SET_ERRORS",errors:t}),!C(t)&&i(l)&&a(l)},[r.params]);const i=l=>!(l.pipeDiameter&&l.innerDiameter&&l.calculationMode&&l.coilMethod)?!1:l.calculationMode===h.COIL_LENGTH?!!(l.outerDiameter&&l.bundleWidth):!!l.pipeLength,a=v.useCallback(async l=>{s({type:"START_CALCULATION"});try{const t=await ne(l);s({type:"SET_RESULT",result:t})}catch(t){s({type:"SET_RESULT",result:{success:!1,error:t instanceof Error?t.message:"Calculation failed"}})}},[s]),n=v.useCallback(()=>{s({type:"RESET_CALCULATOR"})},[s]);return e.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[e.jsx("div",{className:"bg-graewe-primary text-white p-4 md:p-6 rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-1",children:"GRAEWE Produktrechner"}),e.jsx("p",{className:"text-graewe-yellow text-sm opacity-90",children:"Berechnung der Wickellänge und Endposition für Rohre und Profile"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"w-10 h-10 bg-graewe-accent rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})})})]})}),e.jsxs("div",{className:"bg-white p-4 md:p-6 space-y-6 md:space-y-8 rounded-b-lg shadow-lg",children:[e.jsx(te,{}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-graewe-gray-200",children:[e.jsxs("button",{onClick:n,className:"btn-secondary flex-1 py-2.5 px-4 text-sm md:text-base font-medium",type:"button",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Zurücksetzen"]}),e.jsx("button",{onClick:()=>{i(r.params)&&!C(r.errors)&&a(r.params)},disabled:r.isCalculating||!i(r.params)||C(r.errors),className:"btn-primary flex-1 py-2.5 px-4 text-sm md:text-base font-medium disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:r.isCalculating?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner mr-2"}),"Berechnung läuft..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Berechnen"]})})]}),e.jsx(oe,{}),e.jsx("div",{className:"mt-6 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("p",{className:"text-sm text-graewe-gray-700 text-center",children:[e.jsx("strong",{children:"Hinweis:"})," Die errechneten Wickellängen können um bis zu 10% abweichen. Für die Richtigkeit der Ergebnisse übernehmen wir keine Gewähr."]})})]})]})},ce=({children:r})=>e.jsxs("div",{className:"min-h-screen bg-graewe-light",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-graewe-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-14 md:h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("h1",{className:"text-lg md:text-xl font-bold text-graewe-dark",children:"GRAEWE"}),e.jsx("div",{className:"text-xs text-graewe-gray-500 -mt-0.5",children:"Produktrechner"})]})}),e.jsxs("div",{className:"hidden sm:flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-graewe-dark",children:"Professional Coil Calculations"}),e.jsx("div",{className:"text-xs text-graewe-gray-500",children:"Wickellänge & Endposition"})]}),e.jsx("div",{className:"w-8 h-8 bg-graewe-accent rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 002 2z"})})})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 md:py-6",children:r}),e.jsx("footer",{className:"bg-white border-t border-graewe-gray-200 mt-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-graewe-dark mb-4",children:"GRAEWE GmbH"}),e.jsx("p",{className:"text-sm text-graewe-gray-600 mb-4",children:"Ihr Partner für professionelle Extrusionsanlagen und Produktrechnungen in der Kunststoffverarbeitung."}),e.jsx("div",{className:"flex space-x-4",children:e.jsx("a",{href:"https://www.graewe.com",target:"_blank",rel:"noopener noreferrer",className:"text-graewe-primary hover:text-graewe-secondary transition-colors",children:"Website besuchen"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-graewe-dark mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"https://www.graewe.com/produktrechner",target:"_blank",rel:"noopener noreferrer",className:"text-graewe-gray-600 hover:text-graewe-primary transition-colors",children:"Original Produktrechner"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.graewe.com/produkte",target:"_blank",rel:"noopener noreferrer",className:"text-graewe-gray-600 hover:text-graewe-primary transition-colors",children:"Unsere Produkte"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.graewe.com/kontakt",target:"_blank",rel:"noopener noreferrer",className:"text-graewe-gray-600 hover:text-graewe-primary transition-colors",children:"Kontakt"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-graewe-dark mb-4",children:"Über diesen Rechner"}),e.jsx("p",{className:"text-sm text-graewe-gray-600 mb-4",children:"Progressive Web App für mobile und Desktop-Nutzung. Optimiert für professionelle Anwender in der Fertigung."}),e.jsx("div",{className:"text-xs text-graewe-gray-500",children:"Version 1.0.0 • PWA Ready"})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-graewe-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsx("p",{className:"text-sm text-graewe-gray-500 mb-4 md:mb-0",children:"© 2024 GRAEWE GmbH. Alle Rechte vorbehalten."}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[e.jsx("a",{href:"https://www.graewe.com/impressum",target:"_blank",rel:"noopener noreferrer",className:"text-graewe-gray-500 hover:text-graewe-primary transition-colors",children:"Impressum"}),e.jsx("a",{href:"https://www.graewe.com/datenschutz",target:"_blank",rel:"noopener noreferrer",className:"text-graewe-gray-500 hover:text-graewe-primary transition-colors",children:"Datenschutz"}),e.jsx("span",{className:"text-graewe-gray-400",children:"•"}),e.jsx("span",{className:"text-graewe-gray-500",children:"Made with ❤️ for manufacturing"})]})]})})]})})]});class me extends v.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,i){console.error("Error boundary caught an error:",s,i)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-graewe-light",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.996-.833-2.5 0L3.334 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-lg font-semibold text-center text-graewe-dark mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-sm text-graewe-gray-600 text-center mb-4",children:"The calculator encountered an unexpected error. Please refresh the page to try again."}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Refresh Page"})}),!1]})}):this.props.children}}const he=()=>e.jsx(me,{children:e.jsx(Z,{children:e.jsx(ce,{children:e.jsx(de,{})})})});"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const r=await navigator.serviceWorker.register("/sw.js");console.log("SW registered: ",r)}catch(r){console.log("SW registration failed: ",r)}});J.createRoot(document.getElementById("root")).render(e.jsx($.StrictMode,{children:e.jsx(he,{})}));
//# sourceMappingURL=index-547AHQGs.js.map
